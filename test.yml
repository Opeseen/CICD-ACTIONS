name: StudentGradeActions
on: workflow_dispatch
env:
  AWS_REGION: us-east-1
jobs:
  Run-Test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Java JDK
        uses: actions/setup-java@v4
        with:
          distribution: 'temurin'
          java-version: '17'

      - name: Run sed command
        run: |
        sed -i "s/^spring.datasource.url.* " src/main/resources/application.properties
        sed -i "s/^jdbc.password.*$/jdbc.password\=${{ secrets.RDS_PASS }}/" src/main/resources/application.properties
        sed -i "s/db01/${{ secrets.RDS_ENDPOINT }}/" src/main/resources/application.properties


echo spring.datasource.url=jdbc:mysql | sed 's/spring.datasource.url.*/javademoapp.cfzrgfw3zego.us-east-1.rds.amazonaws.com:3306/'

sed -i 's/^spring.datasource.url.*/spring.datasource.url=jdbc:mysql:\//javademoapp.cfzrgfw3zego.us-east/' src/main/resources/application.properties

sed -i "s/^spring.datasource.url.*/spring.datasource.url=jdbc:mysql:\//javademoapp.cfzrgfw3zego/" src/main/resources/application.properties

sed -i 's/^spring.datasource.url.*/spring.datasource.url=jdbc:mysql\:\/\/javademoapp.cfzrgfw3zego/' src/main/resources/application.properties